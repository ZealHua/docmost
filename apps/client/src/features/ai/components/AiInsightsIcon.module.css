/* AiInsightsIcon.module.css
   Quantum orbital redesign — consistent with the violet design system.
   Replaces the 4-arm sparkle star with a 3-orbit atom/量子 structure.
   All animation timings are intentionally mismatched so the motion
   never feels mechanical or repetitive.
*/

/* ─── Header wrapper (showLabel=true) ──────────────────────────────────── */
.aiHeaderWrapper {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  cursor: default;
  user-select: none;
}

/* ─── Icon container ────────────────────────────────────────────────────── */
.aiIcon {
  position: relative;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* ─── Ambient glow halo — same glowPulse mechanic as before ────────────── */
.aiIconGlow {
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(139, 92, 246, 0.32) 0%,
    transparent 70%
  );
  animation: glowPulse 2.8s ease-in-out infinite;
  pointer-events: none;
}

@keyframes glowPulse {
  0%, 100% { opacity: 0.55; transform: scale(1);    }
  50%       { opacity: 1;    transform: scale(1.28); }
}

/* ─── SVG canvas ────────────────────────────────────────────────────────── */
.aiIconSvg {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: visible; /* allow particle glow to bleed outside viewBox */
}

/* ─── Nucleus breathe ───────────────────────────────────────────────────── */
/*
  Gentle scale + opacity pulse tied to the same 2.8s rhythm as glowPulse,
  so the nucleus and the outer halo breathe in sync.
  transform-origin must reference the nucleus center (9px 9px in viewBox coords).
  Use style={{ transformBox: 'fill-box', transformOrigin: 'center' }} on the
  <g> element in the JSX if the CSS origin is off — both approaches work.
*/
.nucleusPulse {
  transform-origin: 9px 9px;
  animation: nucleusBreathe 2.8s ease-in-out infinite;
}

@keyframes nucleusBreathe {
  0%, 100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.07);
    opacity: 1;
  }
}

/* ─── Label (showLabel=true) — same shimmer as rest of system ───────────── */
.aiLabel {
  font-family: 'DM Sans', system-ui, sans-serif;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  background: linear-gradient(
    90deg,
    #7c3aed 0%,
    #a78bfa 50%,
    #7c3aed 100%
  );
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: labelShimmer 3.5s linear infinite;
  opacity: 0.9;
}

@keyframes labelShimmer {
  0%   { background-position:  200% center; }
  100% { background-position: -200% center; }
}

/* ─── Hover accelerations ────────────────────────────────────────────────── */
/*
  Mirroring the thinking-block hover pattern:
  on hover, every animation speeds up to give an "activating" feel.
*/
.aiHeaderWrapper:hover .aiIconGlow {
  background: radial-gradient(
    circle,
    rgba(139, 92, 246, 0.58) 0%,
    transparent 70%
  );
  animation-duration: 1.1s;
}

.aiHeaderWrapper:hover .nucleusPulse {
  animation-duration: 0.85s;
}

.aiHeaderWrapper:hover .aiLabel {
  animation-duration: 1.2s;
  opacity: 1;
}

/* ─── Standalone (showLabel=false) hover ───────────────────────────────── */
.aiIcon:hover .aiIconGlow {
  background: radial-gradient(
    circle,
    rgba(139, 92, 246, 0.58) 0%,
    transparent 70%
  );
  animation-duration: 1.1s;
}

.aiIcon:hover .nucleusPulse {
  animation-duration: 0.85s;
}
